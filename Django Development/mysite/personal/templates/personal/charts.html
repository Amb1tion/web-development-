{% extends 'personal/header.html' %}
{% load staticfiles %}

{% block content %}

<div class='row'>
    <div class='col-sm-10' url-endpoint = '{%url "api-data"%}' >
		<script type="text/javascript">
{#            var endpoint = 'api/chart/data/'#}

            datafromdjango = {{my_data}}
{#            $.ajax({#}
{#                method: "GET",#}
{#                url : endpoint,#}
{#                success: function(data){#}
{#                    console.log(data)#}
{#                },#}
{#                error : function(error_data){#}
{#                    console.log("error")#}
{#                    console.log(error_data)#}
{#                }#}
{#            })#}
            var ctx = document.getElementById("myChart");
            var myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
                    datasets: [{
                        label: datafromdjango.labels,
                        data: datafromdjango.default,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(75, 192, 192, 0.2)',
                            'rgba(153, 102, 255, 0.2)',
                            'rgba(255, 159, 64, 0.2)'
                        ],
                        borderColor: [
                            'rgba(255,99,132,1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: false,
                    maintainAspectRatio: true,
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero:true
                            }
                        }]
                    }
                }
            });
        </script>
		<h1>Hello World</h1>
		<div  style="position:absolute; top:50px; left:50px;">	
			<canvas id="myChart" width= "400px" height= "400px" ></canvas>


    </div>
</div>

{% endblock content %}